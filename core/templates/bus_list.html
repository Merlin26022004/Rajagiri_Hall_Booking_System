{% extends "base.html" %}
{% block content %}
<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>College Bus Fleet</h2>
        <a href="{% url 'book_bus' %}" class="btn btn-warning fw-bold">
            <i class="bi bi-truck-front-fill me-2"></i>Request a Bus
        </a>
    </div>

    <div class="row g-4">
        {% for bus in buses %}
        <div class="col-md-6">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <h5 class="fw-bold">{{ bus.name }}</h5>
                        <span class="badge bg-secondary">{{ bus.number_plate }}</span>
                    </div>
                    <p class="text-muted small">Driver: {{ bus.driver_name }} ({{ bus.driver_phone }})</p>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="text-muted"><i class="bi bi-people-fill"></i> {{ bus.capacity }} Seats</span>
                        <a href="{% url 'book_bus' %}" class="btn btn-sm btn-outline-primary">Book This</a>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center text-muted">No buses added yet. Add them in Django Admin.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}