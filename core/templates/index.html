{% extends "base.html" %}

{% block content %}
<section class="hero">
    <div class="container">
        <div class="row align-items-center gy-4">
            <div class="col-md-7">
                <h1 class="fw-bold mb-3">
                    Hall, Classroom & Lab Booking
                </h1>
                <p class="lead mb-4">
                    Plan lectures, exams, and events with ease.
                    Check real-time availability of halls, classrooms and labs,
                    and submit booking requests in a few clicks.
                </p>
                <a href="{% url 'book_space' %}"
                   class="btn btn-book btn-lg">
                    Book Now
                </a>
            </div>
            <div class="col-md-5">
                <div class="p-3 rounded-4 bg-white shadow-sm">
                    <h5 class="fw-semibold mb-2">Today’s Snapshot</h5>
                    <ul class="mb-0 small">
                        <li>Total bookings today: {{ stats.today_total|default:0 }}</li>
                        <li>Pending approvals: {{ stats.pending|default:0 }}</li>
                        <li>Approved this week: {{ stats.week_approved|default:0 }}</li>
                        <li>Upcoming blocked dates: {{ stats.blocked|default:0 }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="section-title mb-0">Bookable Spaces</h2>
            <a href="{% url 'space_list' %}"
               class="small fw-semibold text-decoration-none">
                View all &rsaquo;
            </a>
        </div>

        <div class="row g-4">
            {% for space in spaces %}
            <div class="col-md-4">
                <div class="space-card p-3 h-100">
                    <h5 class="fw-bold mb-1">{{ space.name }}</h5>
                    <p class="text-muted small mb-2">
                        {{ space.get_type_display }} • Capacity: {{ space.capacity }}
                    </p>
                    <p class="small mb-3">
                        {{ space.description|default:"Suitable for seminars, talks and meetings." }}
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <a href="{% url 'space_availability' space.id %}"
                           class="btn btn-sm btn-outline-secondary">
                            View Availability
                        </a>
                        <a href="{% url 'book_space' %}?space_id={{ space.id }}"
                           class="btn btn-sm btn-book">
                            Book
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No spaces configured yet.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
