{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="container">
        <div class="row align-items-center gy-4">
            <div class="col-md-7">
                <h1 class="fw-bold mb-3">
                    Hall & Venue Booking
                </h1>
                <p class="lead mb-4">
                    Plan lectures, exams, and events with ease.
                    Check real-time availability of halls,
                    and submit booking requests in a few clicks.
                </p>
                <a href="{% url 'hall_list' %}" class="btn btn-book btn-lg">
                    Book Now
                </a>
            </div>
            <div class="col-md-5">
                <div class="p-3 rounded-4 bg-white shadow-sm">
                    <h5 class="fw-semibold mb-2">Todayâ€™s Snapshot</h5>
                    <ul class="mb-0 small">
                        <li>Total bookings today: {{ stats.today_total|default:0 }}</li>
                        <li>Pending approvals: {{ stats.pending|default:0 }}</li>
                        <li>Approved this week: {{ stats.week_week_approved|default:0 }}</li>
                        <!-- week_approved variable name might vary -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="section-title mb-0">Featured Halls</h2>
            <a href="{% url 'hall_list' %}" class="small fw-semibold text-decoration-none">
                View all &rsaquo;
            </a>
        </div>

        <div class="row g-4">
            {% for hall in halls %}
            <div class="col-md-4">
                <div class="space-card p-3 h-100">
                    <h5 class="fw-bold mb-1">{{ hall.name }}</h5>
                    <p class="text-muted small mb-2">
                        Capacity: {{ hall.seating_capacity }}
                    </p>
                    <p class="small mb-3">
                        {{ hall.description|truncatewords:20 }}
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <a href="{% url 'hall_detail' hall.id %}" class="btn btn-sm btn-outline-secondary w-100">
                            View Details & Book
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No halls configured yet.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}