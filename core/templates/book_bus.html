{% extends "base.html" %}
{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            
            <div class="text-center mb-4">
                <h3 class="fw-bold">Transport Request</h3>
                <p class="text-muted small">Submit a travel request for approval by the Transport Officer.</p>
            </div>

            <div class="card-modern p-4">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-4">
                        <label class="form-label-modern">Select Vehicle</label>
                        <select name="bus_id" class="form-select form-control-modern" required>
                            {% for bus in buses %}
                            <option value="{{ bus.id }}">
                                {{ bus.name }} ({{ bus.capacity }} Seats) - {{ bus.number_plate }}
                            </option>
                            {% empty %}
                            <option disabled>No buses available</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-4">
                        <label class="form-label-modern">Destination</label>
                        <input type="text" name="destination" class="form-control form-control-modern" placeholder="e.g. Infopark, Kakkanad" required>
                    </div>

                    <div class="row g-3 mb-4">
                        <div class="col-12">
                            <label class="form-label-modern">Date of Journey</label>
                            <input type="date" name="date" class="form-control form-control-modern" required>
                        </div>
                        <div class="col-6">
                            <label class="form-label-modern">Departs At</label>
                            <input type="time" name="start_time" class="form-control form-control-modern" required>
                        </div>
                        <div class="col-6">
                            <label class="form-label-modern">Returns At</label>
                            <input type="time" name="end_time" class="form-control form-control-modern" required>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label-modern">Purpose of Visit</label>
                        <textarea name="purpose" class="form-control form-control-modern" rows="3" placeholder="Describe the official purpose..." required></textarea>
                    </div>

                    <button type="submit" class="btn btn-modern-primary w-100">
                        Submit Request
                    </button>
                    
                    <div class="text-center mt-3">
                        <a href="{% url 'bus_list' %}" class="small text-decoration-none text-muted">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}